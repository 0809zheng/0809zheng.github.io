<footer class="g-footer">
  <div id="map-script"></div>
  <section>{{ site.title }} Â©
  {% assign current = "now" | date: "%Y" | plus: 0 %}
  {% unless site.footer.since and site.footer.since == current %}
    {{ site.footer.since }}
    -
  {% endunless %}
  {{ current }}
  </section>
  <section>Powered by <a href="//jekyllrb.com">Jekyll</a></section>
</footer>

<script>
  // Function to detect device type and insert corresponding script
  function loadMapScript() {
    var script = document.createElement('script');
    script.type = 'text/javascript';
    script.id = 'clustrmaps';

    // Insert different script based on screen width
    if (window.innerWidth > 800) {
      // Web version
      script.src = '//cdn.clustrmaps.com/map_v2.js?cl=ffffff&w=800&t=m&d=WWuzUTmOt8V9vdtIQd5uqrEcKsRg4IiPuy9gg21CQO8';
    } else {
      // Mobile version
      script.src = '//cdn.clustrmaps.com/map_v2.js?cl=ffffff&w=300&t=m&d=WWuzUTmOt8V9vdtIQd5uqrEcKsRg4IiPuy9gg21CQO8&co=2d78ad&cmo=3acc3a&cmn=ff5353&ct=ffffff';
    }

    document.getElementById('map-script').appendChild(script);
  }

  // Call function on page load to insert appropriate script
  window.onload = loadMapScript;
</script>
